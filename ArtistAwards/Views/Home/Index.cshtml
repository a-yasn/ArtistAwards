@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <div class="col-lg-12">
        <h2>The list of awards</h2>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="container">
            <br />
            <div style="width:90%; margin:0 auto;">
                <table id="myTable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Year</th>
                            <th>Name</th>
                            <th>Show</th>
                            <th>Role</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {



    <script type="text/javascript">
        $(document).ready(function () {

            // data table
            $('#myTable').DataTable({
                ajax: {
                    "url": "http://localhost:5000/Home/GetData",
                    "type": "GET",
                    "datatype": "json"
                },
                "columnDefs":
                    [{
                        "targets": [0],
                        "visible": false,
                        "searchable": false
                    }],
                "columns": [
                    { "data": "id", "name": "Id", "autoWidth": true },
                    { "data": "year", "name": "Year", "autoWidth": true },
                    { "data": "name", "name": "Name", "autoWidth": true },
                    { "data": "show", "name": "Show", "autoWidth": true },
                    { "data": "role", "name": "Role", "autoWidth": true },
                ]
            });

            let timerId = setInterval(() => { $('#myTable').DataTable().ajax.reload(); }, 5000);
        });
    </script>

}